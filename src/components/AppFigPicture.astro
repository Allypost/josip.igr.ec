---
import type { HTMLAttributes } from "astro/types";
import type { LocalImageProps, RemoteImageProps } from "astro:assets";

import AppPicture from "./AppPicture.astro";
import type { ImageOutputFormat } from "astro";

type Props = (LocalImageProps | RemoteImageProps) & {
  formats?: ImageOutputFormat[];
  fallbackFormat?: ImageOutputFormat;
  pictureAttributes?: HTMLAttributes<"picture">;
} & {
  alt: string;
};

const alt = Astro.props.alt;
---

<figure>
  <AppPicture {...Astro.props} />
  {alt ? <figcaption>{alt}</figcaption> : null}
</figure>

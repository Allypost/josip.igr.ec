---
import type { ComponentProps } from "astro/types";
import { Picture } from "astro:assets";

// eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents
type Props = ComponentProps<typeof Picture> & {
  alt: string;
};

// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-assignment
const src = Astro.props.src;
// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access
const alt = Astro.props.alt;
---

{
  typeof src === "string" ? (
    <picture {...Astro.props}>
      <img src={src} alt={alt as string} decoding="async" loading="lazy" />
    </picture>
  ) : (
    <Picture
      loading="lazy"
      decoding="async"
      formats={[
        "webp",
        //  "avif",
      ]}
      {...Astro.props}
    />
  )
}
